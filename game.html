<!DOCTYPE html>
<html>

<head>
	<title>Jogo - Pedra, Papel e Tesoura</title>
	<meta charset="utf-8">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

</head>

<body>

	<div class="container" style="height: 100vh;">
		<div class="row h-100 justify-content-center align-items-center text-center" style="margin: auto;">
			<div class="col-md-6 col-10 bg-light text-dark card p-4">
				<h1 class="h1 mt-3">Jogo - Pedra, Papel e Tesoura</h1>
				<h2 id="score" class="text-center my-5"><span id="nome">Jogador</span> 0 x 0 Computador</h2>
				<div class="">
					<p id="play1">Esperando jogador...</p>
					<p id="play2">Console está pronto.</p>
					<p id="round">O resultado será mostrado aqui.</p>
				</div>

				<div class="row justify-content-center my-5">
					<button onclick="game(1)" class="btn btn-primary col-md-3 col-8">Pedra</button>
					<button onclick="game(2)" class="btn btn-success col-md-3 col-8 mx-1">Papel</button>
					<button onclick="game(3)" class="btn btn-warning col-md-3 col-8">Tesoura</button>
				</div>
				<div class="row">
					<h4 class="text-center h4 text-warning mb-3" style="font-weight: bold;">Leia as regras:</h4>
					<ul class="text-justify">
						<li>Escolha uma das opções clicando no botão.</li>
						<li>A opção escolhida será sua jogada.</li>
						<li>O Game escolhe um item aleatoriamente.</li>
						<li>Aquele que escolher o item superior pontua.</li>
						<li>Serão 15 rodadas e o jogador com maior pontuação vence.</li>
					</ul>
				</div>
				<div class="row justify-content-center mt-5">
					<a href="index.html" class="btn btn-primary col-5">Voltar</a>
				</div>
			</div>
		</div>
	</div>



	<script type="text/javascript">

		/* var nome = prompt("Jogador, qual seu nome?");
		if (nome === "") {
			nome = "Jogador";
		} else {
			document.getElementById("nome").innerHTML = nome;
		} */

		var nome = "Vinícius";

		var points1 = 0, points2 = 0;
		function game(numero) {
			if (points1 + points2 == 15) {
				if (points1 > points2) {
					alert(nome + ", você venceu!\nParabéns pela vitória!");
				} else if (points2 > points1) {
					alert(nome + ", você perdeu.\nNão desanime, não foi dessa vez.\nJogue de novo!");
				}
				points1 = 0;
				points2 = 0;
			}
			var player1 = playerMoves(numero);
			var player2 = gameMoves();
			var total = comparison(player1, player2);
			document.getElementById("score").innerHTML = nome + " " + points1 + " x " + points2 + " Computador";
			document.getElementById("play1").innerHTML = "Você jogou " + player1 + ".";
			document.getElementById("play2").innerHTML = "Console jogou " + player2 + ".";
			document.getElementById("round").innerHTML = "Você" + total;
		}

		function moves(escolha) {
			if (escolha == 1) {
				return "pedra";
			} else if (escolha == 2) {
				return "papel";
			} else if (escolha == 3) {
				return "tesoura";
			}
		}

		function gameMoves() {
			var valor = Math.floor(Math.random() * (4 - 1)) + 1;
			return moves(valor);
		}

		function playerMoves(opcao) {
			return moves(opcao);
		}

		function comparison(p1, p2) {
			var mensagem = "";
			if (p1 == "pedra" && p2 == "papel" || p1 == "papel" && p2 == "pedra") {
				mensagem = "papel embrulha pedra.";
			} else if (p1 == "papel" && p2 == "tesoura" || p1 == "tesoura" && p2 == "papel") {
				mensagem = "tesoura corta papel.";
			} else if (p1 == "tesoura" && p2 == "pedra" || p1 == "pedra" && p2 == "tesoura") {
				mensagem = "pedra quebra tesoura.";
			} else if (p1 == p2) {
				mensagem = p1 + " é igual a " + p2 + ". Ninguém pontua.";
			}
			if (p1 == p2) {
				return "s empataram, " + mensagem;
			} else if (p1 == "pedra" && p2 == "papel" || p1 == "papel" && p2 == "tesoura" || p1 == "tesoura" && p2 == "pedra") {
				points2++;
				return " perdeu, " + mensagem;
			} else if (p1 == "pedra" && p2 == "tesoura" || p1 == "papel" && p2 == "pedra" || p1 == "tesoura" && p2 == "papel") {
				points1++;
				return " ganhou, " + mensagem;
			}
		}
	</script>

	<style type="text/css">
		body {
			font-family: 'Open Sans', sans-serif;
			color: #fff;
			overflow: hidden;
			background-image: linear-gradient(#07043a, #040438, #030218, #000000);
		}

		button {
			width: 70px;
			padding: 5px;
			font-weight: bold;
			display: inline-block;
		}

		.btn {
			border-radius: 0;
		}

		li {
			list-style-type: none;
		}
	</style>

	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
		integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
		integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
		crossorigin="anonymous"></script>


</body>

</html>